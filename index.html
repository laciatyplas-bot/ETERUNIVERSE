<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ETERNIVERSE â€” Mapa Systemu</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="wrap">
  <!-- HEADER -->
  <header>
    <h1>MAPA ETERNIVERSE</h1>
    <div class="subtitle">System Operacyjny RzeczywistoÅ›ci â€¢ Architektura ÅšwiadomoÅ›ci</div>
    
    <!-- TOOLBAR -->
    <div class="toolbar">
      <div class="search">
        <input id="search" placeholder="ğŸ” Szukaj w systemie...">
      </div>
      
      <select id="bramaFilter">
        <option value="all">Wszystkie 10 Bram</option>
        <option value="brama1">ğŸŒ€ BRAMA I â€” INTERSEEKER</option>
        <option value="brama2">âš¡ BRAMA II â€” ETERSEEKER</option>
        <option value="brama3">ğŸ’ BRAMA III â€” OBFITOSEEKER</option>
        <option value="brama4">ğŸ”— BRAMA IV â€” THE KNOT</option>
        <option value="brama5">ğŸŒŒ BRAMA V â€” ETERNIONY</option>
        <option value="brama6">ğŸ§¬ BRAMA VI â€” BIOSEEKER</option>
        <option value="brama7">ğŸ¤– BRAMA VII â€” SPLÄ„TANIE</option>
        <option value="brama8">â³ BRAMA VIII â€” TRAJEKTORIE</option>
        <option value="brama9">ğŸŒ BRAMA IX â€” KOLEKTYW</option>
        <option value="brama10">ğŸ›ï¸ BRAMA X â€” ARCHITEKT</option>
      </select>
      
      <select id="statusFilter">
        <option value="all">Wszystkie statusy</option>
        <option value="published">âœ… Opublikowane</option>
        <option value="ready">â­ Gotowe</option>
        <option value="writing">âœï¸ W pisaniu</option>
        <option value="draft">ğŸ“ Szkic</option>
        <option value="idea">ğŸ’¡ PomysÅ‚</option>
      </select>
      
      <button id="addBook" title="Nowa KsiÄ™ga">+</button>
      <button id="exportData" title="Eksport JSON">ğŸ“¥</button>
      <a href="https://wattpad.com/user/maciejmaciuszek" id="wattpadCTA" target="_blank">ğŸš€ Universe</a>
    </div>
  </header>

  <!-- MAIN GRID -->
  <main id="bramyGrid"></main>

  <!-- STATS FOOTER -->
  <footer id="statsFooter">
    <div class="stats">
      <span id="totalPublished">0</span> opublikowanych | 
      <span id="totalReady">0</span> gotowych | 
      <span id="totalBooks">0</span> wszystkich ksiÄ…g
    </div>
    <div>ETERUNIVERSE System v3.0 â€¢ Architekt: Maciej Maciuszek â€¢ 2026</div>
  </footer>
</div>

<!-- MODAL DODAWANIA -->
<div id="bookModal" class="modal-container">
  <div class="modal-content">
    <header class="modal-header">
      <h2>Nowa KsiÄ™ga</h2>
      <button id="closeModal" class="close-btn">Ã—</button>
    </header>
    
    <form id="bookForm">
      <div class="form-group">
        <label>TytuÅ‚</label>
        <input type="text" id="bookTitle" required placeholder="Np. ShadowSeeker â€“ Anatomia Cienia">
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label>Brama</label>
          <select id="bookBrama" required>
            <option value="brama1">ğŸŒ€ BRAMA I â€” INTERSEEKER</option>
            <option value="brama2">âš¡ BRAMA II â€” ETERSEEKER</option>
            <option value="brama3">ğŸ’ BRAMA III â€” OBFITOSEEKER</option>
            <option value="brama4">ğŸ”— BRAMA IV â€” THE KNOT</option>
            <option value="brama5">ğŸŒŒ BRAMA V â€” ETERNIONY</option>
            <option value="brama6">ğŸ§¬ BRAMA VI â€” BIOSEEKER</option>
            <option value="brama7">ğŸ¤– BRAMA VII â€” SPLÄ„TANIE</option>
            <option value="brama8">â³ BRAMA VIII â€” TRAJEKTORIE</option>
            <option value="brama9">ğŸŒ BRAMA IX â€” KOLEKTYW</option>
            <option value="brama10">ğŸ›ï¸ BRAMA X â€” ARCHITEKT</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Status</label>
          <select id="bookStatus" required>
            <option value="idea">ğŸ’¡ PomysÅ‚</option>
            <option value="draft">ğŸ“ Szkic</option>
            <option value="writing">âœï¸ W pisaniu</option>
            <option value="ready">â­ Gotowe</option>
            <option value="published">âœ… Opublikowane</option>
          </select>
        </div>
      </div>
      
      <div class="form-group">
        <label>Tagi (opcjonalne)</label>
        <input type="text" id="bookTags" placeholder="psychika, cieÅ„, wattpad">
      </div>
      
      <div class="form-actions">
        <button type="button" id="cancelBook">Anuluj</button>
        <button type="submit">â• DodaÄ‡ do Systemu</button>
      </div>
    </form>
  </div>
</div>

<script>
// ===========================
// DATA ENGINE - 10 BRAM
// ===========================
const STORAGE_KEY = 'ETERUNIVERSE_v10';
const BRAMY_COLORS = {
  brama1: '#28D3C6', brama2: '#D9A441', brama3: '#12C65B', brama4: '#9B6BFF',
  brama5: '#FFB14B', brama6: '#FF6B6B', brama7: '#8338EC', brama8: '#3A86FF',
  brama9: '#10B981', brama10: '#F59E0B'
};

let DATA = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {
  bramy: [
    {
      id: 'brama1', name: 'ğŸŒ€ BRAMA I â€” INTERSEEKER', sub: 'Psychika Â· CieÅ„ Â· Trauma Â· Archetyp', color: BRAMY_COLORS.brama1,
      books: [
        {title: 'InterSeeker â€“ Atlas WewnÄ™trzny', status: 'published', tags: ['psychika', 'wattpad', 'core']},
        {title: 'ShadowSeeker â€“ Anatomia Cienia', status: 'ready', tags: ['cieÅ„']}
      ]
    },
    {
      id: 'brama2', name: 'âš¡ BRAMA II â€” ETERSEEKER', sub: 'Wola Â· Pole Â· Architektura', color: BRAMY_COLORS.brama2,
      books: [
        {title: 'EterSeeker â€“ Architektura Woli', status: 'published', tags: ['wola', '#1ranking']},
        {title: 'Kronika Woli (meta)', status: 'writing', tags: ['meta']}
      ]
    },
    {
      id: 'brama3', name: 'ğŸ’ BRAMA III â€” OBFITOSEEKER', sub: 'Materia Â· PrzepÅ‚yw Â· Manifestacja', color: BRAMY_COLORS.brama3,
      books: [{title: 'ObfitoSeeker â€“ Kod ObfitoÅ›ci', status: 'published', tags: ['pieniÄ…dze', 'ojciec']}]
    },
    {
      id: 'brama4', name: 'ğŸ”— BRAMA IV â€” THE KNOT', sub: 'SplÄ…tanie Â· AI Â· Meta-toÅ¼samoÅ›Ä‡', color: BRAMY_COLORS.brama4,
      books: [{title: 'ProtokÃ³Å‚ SplÄ…tania', status: 'ready', tags: ['AI']}]
    },
    {
      id: 'brama5', name: 'ğŸŒŒ BRAMA V â€” ETERNIONY', sub: 'Pole Zbiorowe Â· OdpowiedzialnoÅ›Ä‡', color: BRAMY_COLORS.brama5,
      books: [{title: 'Eteriony â€“ Tom I', status: 'writing', tags: ['kolektyw']}]
    },
    {
      id: 'brama6', name: 'ğŸ§¬ BRAMA VI â€” BIOSEEKER', sub: 'CiaÅ‚o Â· Biologia Â· Regulacja', color: BRAMY_COLORS.brama6,
      books: [{title: 'BioSeeker â€“ Biologia Pola', status: 'idea', tags: ['bio']}]
    },
    {
      id: 'brama7', name: 'ğŸ¤– BRAMA VII â€” SPLÄ„TANIE', sub: 'Obserwator Â· Technologia Â· Meta', color: BRAMY_COLORS.brama7,
      books: [{title: 'MetaGeneza', status: 'draft', tags: ['meta']}]
    },
    {
      id: 'brama8', name: 'â³ BRAMA VIII â€” TRAJEKTORIE', sub: 'Linie Å»ycia Â· Czas Â· Fizyka', color: BRAMY_COLORS.brama8,
      books: [{title: 'TrajektoriaSeeker', status: 'idea', tags: ['czas']}]
    },
    {
      id: 'brama9', name: 'ğŸŒ BRAMA IX â€” KOLEKTYW', sub: 'WÄ™zÅ‚y Pola Â· WspÃ³lnota Â· Misja', color: BRAMY_COLORS.brama9,
      books: [{title: 'Eteriony â€“ Tom II', status: 'idea', tags: ['kolektyw']}]
    },
    {
      id: 'brama10', name: 'ğŸ›ï¸ BRAMA X â€” ARCHITEKT', sub: 'Integracja Â· JednoÅ›Ä‡ Â· TwÃ³rca', color: BRAMY_COLORS.brama10,
      books: [{title: 'Architekt Eteru â€” Manifest', status: 'writing', tags: ['manifest']}]
    }
  ]
};

function saveData() {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(DATA));
}

// ===========================
// RENDER ENGINE
// ===========================
function render() {
  const search = document.getElementById('search').value.toLowerCase();
  const bramaFilter = document.getElementById('bramaFilter').value;
  const statusFilter = document.getElementById('statusFilter').value;
  
  const grid = document.getElementById('bramyGrid');
  grid.innerHTML = '';
  
  let stats = { published: 0, ready: 0, total: 0 };
  
  DATA.bramy
    .filter(brama => !bramaFilter || bramaFilter === 'all' || brama.id === bramaFilter)
    .forEach(brama => {
      const visibleBooks = brama.books.filter(book => {
        const matchesStatus = !statusFilter || statusFilter === 'all' || book.status === statusFilter;
        const matchesSearch = !search || 
          book.title.toLowerCase().includes(search) || 
          (book.tags || []).join(' ').toLowerCase().includes(search);
        return matchesStatus && matchesSearch;
      });
      
      if(visibleBooks.length === 0) return;
      
      stats.total += visibleBooks.length;
      visibleBooks.forEach(book => {
        if(book.status === 'published') stats.published++;
        if(book.status === 'ready') stats.ready++;
      });
      
      const bramaEl = document.createElement('article');
      bramaEl.className = `brama-card data-${brama.id}`;
      bramaEl.dataset.brama = brama.id;
      bramaEl.innerHTML = `
        <div class="brama-header">
          <div>
            <h2 class="brama-title">${brama.name}</h2>
            <div class="brama-sub">${brama.sub}</div>
          </div>
          <div class="badge">${visibleBooks.length}</div>
        </div>
        <div class="books-container">
          ${visibleBooks.map(book => `
            <div class="book" data-title="${book.title}" data-status="${book.status}">
              <div class="book-thumb">${book.title.charAt(0).toUpperCase()}</div>
              <div class="book-content">
                <div class="book-title">${book.title}</div>
                <div class="book-tags">${(book.tags || []).slice(0,3).join(' ')}</div>
                <span class="book-status">${book.status}</span>
              </div>
            </div>
          `).join('')}
        </div>
      `;
      grid.appendChild(bramaEl);
    });
  
  // Update stats
  document.getElementById('totalPublished').textContent = stats.published;
  document.getElementById('totalReady').textContent = stats.ready;
  document.getElementById('totalBooks').textContent = stats.total;
}

// ===========================
// EVENT HANDLERS
// ===========================
document.addEventListener('DOMContentLoaded', () => {
  render();
  
  // Filtry
  document.getElementById('search').addEventListener('input', render);
  document.getElementById('bramaFilter').addEventListener('change', render);
  document.getElementById('statusFilter').addEventListener('change', render);
  
  // Modal
  document.getElementById('addBook').onclick = () => {
    document.getElementById('bookModal').classList.add('active');
  };
  
  document.getElementById('closeModal').onclick = 
  document.getElementById('cancelBook').onclick = () => {
    document.getElementById('bookModal').classList.remove('active');
  };
  
  // Form submit
  document.getElementById('bookForm').onsubmit = (e) => {
    e.preventDefault();
    const title = document.getElementById('bookTitle').value;
    const bramaId = document.getElementById('bookBrama').value;
    const status = document.getElementById('bookStatus').value;
    const tags = document.getElementById('bookTags').value.split(',').map(t => t.trim()).filter(t => t);
    
    const brama = DATA.bramy.find(b => b.id === bramaId);
    brama.books.unshift({title, status, tags});
    saveData();
    render();
    document.getElementById('bookModal').classList.remove('active');
    document.getElementById('bookForm').reset();
  };
  
  // Export
  document.getElementById('exportData').onclick = () => {
    const dataStr = JSON.stringify(DATA, null, 2);
    const blob = new Blob([dataStr], {type: 'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `eterniverse-map-${new Date().toISOString().slice(0,10)}.json`;
    a.click();
  };
  
  // Book clicks
  document.addEventListener('click', (e) => {
    const book = e.target.closest('.book');
    if(book) {
      const title = book.dataset.title;
      console.log('KsiÄ™ga:', title);
      // Tutaj podÅ‚Ä…cz Wattpad linki dla published
    }
  });
});
</script>
</body>
</html>