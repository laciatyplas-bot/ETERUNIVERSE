<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ETERNIVERSE — Mapa Światów</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
body{background:#05070a;color:#e6e6e6;min-height:100vh}
header{padding:24px;background:#0b1220;border-bottom:1px solid #1f2937}
header h1{font-size:32px;color:#D9A441;text-align:center}
.toolbar{margin-top:16px;display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
.toolbar input,.toolbar select{padding:12px 16px;border-radius:12px;border:none;background:#111827;color:#e6e6e6}
main{padding:32px;max-width:1200px;margin:0 auto}
.brama{margin-bottom:64px;padding:32px;border-radius:24px;background:#0f172a;border-top:8px solid var(--color)}
.brama h2{text-align:center;color:var(--color);font-size:28px;margin-bottom:8px}
.brama .sub{text-align:center;opacity:.85;margin-bottom:24px}
.book{padding:20px;margin:16px 0;border-radius:16px;background:#020617;border:1px solid rgba(255,255,255,.08)}
.book strong{font-size:20px;display:block;margin-bottom:8px}
.book .status{display:inline-block;padding:6px 14px;border-radius:999px;font-size:12px;background:#1f2937}
</style>
</head>

<body>

<header>
  <h1>MAPA ETERNIVERSE</h1>
  <div class="toolbar">
    <input id="search" placeholder="Szukaj tytułu...">
    <select id="statusFilter">
      <option value="all">Wszystkie statusy</option>
      <option value="published">Opublikowane</option>
      <option value="ready">Gotowe</option>
      <option value="writing">W trakcie</option>
      <option value="draft">Szkic</option>
      <option value="idea">Idea</option>
    </select>
  </div>
</header>

<main id="app"></main>

<script>
/* ===========================
   DANE — STABILNE
=========================== */
const STORAGE_KEY = 'ETERNIVERSE_DATA';

const DEFAULT_DATA = [
  {
    id:1,
    name:"BRAMA I — INTERSEEKER",
    sub:"Psychika · Cień · Trauma",
    color:"#28D3C6",
    books:[
      {title:"InterSeeker – Atlas Wewnętrzny",status:"published"},
      {title:"ShadowSeeker – Anatomia Cienia",status:"ready"},
      {title:"MemorySeeker – Archeologia Wspomnień",status:"draft"}
    ]
  },
  {
    id:2,
    name:"BRAMA II — ETERSEEKER",
    sub:"Wola · Pole · Architektura",
    color:"#D9A441",
    books:[
      {title:"EterSeeker – Architektura Woli",status:"writing"},
      {title:"EterSeeker – Księga Zakazana",status:"idea"}
    ]
  }
];

let DATA = JSON.parse(localStorage.getItem(STORAGE_KEY)) || DEFAULT_DATA;

/* ===========================
   RENDER
=========================== */
const app = document.getElementById('app');

function render(){
  const q = document.getElementById('search').value.toLowerCase();
  const status = document.getElementById('statusFilter').value;
  app.innerHTML = '';

  DATA.forEach(brama=>{
    const section = document.createElement('section');
    section.className = 'brama';
    section.style.setProperty('--color', brama.color);

    section.innerHTML = `
      <h2>${brama.name}</h2>
      <div class="sub">${brama.sub}</div>
    `;

    brama.books
      .filter(b => status==='all' || b.status===status)
      .filter(b => b.title.toLowerCase().includes(q))
      .forEach(book=>{
        const el = document.createElement('div');
        el.className='book';
        el.innerHTML = `
          <strong>${book.title}</strong>
          <span class="status">${book.status}</span>
        `;
        section.appendChild(el);
      });

    app.appendChild(section);
  });
}

document.getElementById('search').addEventListener('input', render);
document.getElementById('statusFilter').addEventListener('change', render);

render();
</script>

</body>
</html>