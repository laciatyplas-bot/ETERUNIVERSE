<!-- TABELA ETERNIVERSE -->
<style>
  .et-table {
    width: 100%;
    border-collapse: collapse;
    margin: 40px 0;
    background: #0b1220;
    font-size: 14px;
  }

  .et-table th,
  .et-table td {
    border: 1px solid #2d3748;
    padding: 12px 14px;
    text-align: left;
  }

  .et-table th {
    background: #111827;
    color: #93c5fd;
    font-weight: 800;
    letter-spacing: 1px;
  }

  .et-table tr:nth-child(even) {
    background: #0f172a;
  }

  .et-table tr:hover {
    background: #1e293b;
  }

  .status {
    padding: 4px 10px;
    border-radius: 999px;
    font-weight: 700;
    font-size: 12px;
    display: inline-block;
  }

  .published { background:#14532d; color:#86efac; }
  .writing   { background:#78350f; color:#fde68a; }
  .idea      { background:#1e3a8a; color:#bfdbfe; }
</style>

<script>
  function renderTable() {
    if (!DATA || !DATA.worlds) return;

    const container = document.getElementById('contentArea');
    container.innerHTML = '<h2>TABELA ETERNIVERSE</h2>';

    const table = document.createElement('table');
    table.className = 'et-table';

    table.innerHTML = `
      <thead>
        <tr>
          <th>ŚWIAT</th>
          <th>BRAMA</th>
          <th>KSIĘGA</th>
          <th>STATUS</th>
        </tr>
      </thead>
      <tbody></tbody>
    `;

    const tbody = table.querySelector('tbody');

    DATA.worlds.forEach(world => {
      world.gates.forEach(gate => {
        if (!gate.books.length) {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${world.name}</td>
            <td>${gate.name}</td>
            <td>—</td>
            <td>—</td>
          `;
          tbody.appendChild(tr);
        }

        gate.books.forEach(book => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${world.name}</td>
            <td>${gate.name}</td>
            <td>${book.title}</td>
            <td>
              <span class="status ${book.status || 'idea'}">
                ${book.status || 'idea'}
              </span>
            </td>
          `;
          tbody.appendChild(tr);
        });
      });
    });

    container.appendChild(table);
  }

  // WYWOŁANIE
  renderTable();
</script>